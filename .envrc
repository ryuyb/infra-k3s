# direnv configuration
# Run `direnv allow` to enable

# Ansible
export ANSIBLE_CONFIG="${PWD}/ansible/ansible.cfg"
export ANSIBLE_VAULT_PASSWORD_FILE="${PWD}/.vault_pass"

# SOPS
export SOPS_AGE_KEY_FILE="${PWD}/.age-key.txt"

# OpenTofu/Terraform
export TF_VAR_cloudflare_api_token="${CLOUDFLARE_API_TOKEN:-}"
export TF_VAR_cloudflare_zone_id="${CLOUDFLARE_ZONE_ID:-}"

# Kubernetes
export KUBECONFIG="${PWD}/kubeconfig.yaml"

# GitOps (set in .envrc.local)
export GIT_REPO_URL="${GIT_REPO_URL:-}"

# Velero
export VELERO_NAMESPACE="velero"

# Load local overrides if present
if [ -f .envrc.local ]; then
  source .envrc.local
fi
