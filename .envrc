# direnv configuration
# Run `direnv allow` to enable

# Ansible
export ANSIBLE_CONFIG="${PWD}/ansible/ansible.cfg"
export ANSIBLE_VAULT_PASSWORD_FILE="${PWD}/.vault_pass"

# OpenTofu/Terraform
export TF_VAR_cloudflare_api_token="${CLOUDFLARE_API_TOKEN:-}"
export TF_VAR_cloudflare_account_id="${CLOUDFLARE_ACCOUNT_ID:-}"
export TF_VAR_cloudflare_zone_id="${CLOUDFLARE_ZONE_ID:-}"

# Kubernetes
export KUBECONFIG="${PWD}/kubeconfig.yaml"

# GitOps
export GIT_REPO_URL="${GIT_REPO_URL:-}"

# Cloudflare
export CLOUDFLARE_API_TOKEN="${CLOUDFLARE_API_TOKEN:-}"
export CLOUDFLARE_ACCOUNT_ID="${CLOUDFLARE_ACCOUNT_ID:-}"
export CLOUDFLARE_ZONE_ID="${CLOUDFLARE_ZONE_ID:-}"

# ACME / Let's Encrypt
export ACME_EMAIL="${ACME_EMAIL:-}"
export DOMAIN="${DOMAIN:-}"

# Velero / R2 Backup
export VELERO_NAMESPACE="velero"
export VELERO_BUCKET="${VELERO_BUCKET:-}"
export R2_ENDPOINT="${R2_ENDPOINT:-}"
export R2_ACCESS_KEY_ID="${R2_ACCESS_KEY_ID:-}"
export R2_SECRET_ACCESS_KEY="${R2_SECRET_ACCESS_KEY:-}"

# Monitoring
export GRAFANA_PASSWORD="${GRAFANA_PASSWORD:-}"

# Load local overrides (set actual values here)
if [ -f .envrc.local ]; then
  source .envrc.local
fi
